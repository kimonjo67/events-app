<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Eventful API dump</title>


  <!-- Materialize Links -->
  <!-- Materialize CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
  <!-- Materialize JavaScript -->
<!--   <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script> -->
</head>

<body>
  <div class="container">
    <h1>Eventful Search</h1>

    <!-- JSON contents -->
    <div id="API-events"></div>

    <!-- Search Form -->
    <form id="search-form">
      <label for="event-input">Search for an event!</label>
      <input type="text" id="location-input"><br>

      <!-- button to call AJAX -->
      <input id="submit" type="submit" value="Event Search">
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
      // click function for AJAX Call
      $("#submit").on("click", function(event) {
        // prevent event default behavior
        event.preventDefault();
        // store search input in variable
        var location = $("#location-input").val();
        // construct our URL
        var queryURL = "https://cors-anywhere.herokuapp.com/api.eventful.com/json/events/search?app_key=54CPdHQQ4wTp4fM7&location=" + location;

        // queryURL using $ajax
        $.ajax({
          url: queryURL,
          method: "GET"
        }).done(function(response) {
          console.log(JSON.parse(response))
          // $("#event-view").text(JSON.parse(response));
        });

        // -----------------------------------------------------------------------

      });
    </script>
  </div>
</body>

</html>
